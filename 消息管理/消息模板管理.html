<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="renderer" content="webkit|ie-comp|ie-stand">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<meta http-equiv="Cache-Control" content="no-siteapp" />
        <title>消息模板管理</title>
		<link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../css/style_add.css"/>
        <link href="../css/style.css" rel="stylesheet"/>       
        <link href="../assets/css/codemirror.css" rel="stylesheet"/>
        <link href="../assets/css/ace.min.css" rel="stylesheet"/>
        <link href="../font/css/font-awesome.min.css" rel="stylesheet"/>
		<link rel="stylesheet" href="../assets/css/font-awesome.min.css" />
        <!--[if lte IE 8]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
		<![endif]-->		
		<script src="../js/jquery-1.9.1.min.js"></script>
		<script src="../assets/js/typeahead-bs2.min.js"></script>   
        <script src="../js/lrtk.js" type="text/javascript" ></script>		
		<script src="../assets/js/jquery.dataTables.min.js"></script>
		<script src="../assets/js/jquery.dataTables.bootstrap.js"></script>
        <script src="../assets/layer/layer.js" type="text/javascript" ></script>   
		 
	</head>
	
	<body>
		<div class="page-content clearfix">
			<div id="brand_style">
				<div class="search_style">
						<ul class="search_contentA clearfix">
							<li><label class="liability_f">模板代码</label><input name="" type="text"  class="text_add" placeholder=""/></li>
							<li><label class="liability_f">消息类型</label><select name="" class="text_add" style=" width:120px">
								<option  value="">请选择</option></select>
							</li>
							<li><label class="liability_f">使用账号</label><select name="" class="text_add" style=" width:120px">
								<option  value="">请选择</option></select>
							</li>
							
							<li><label class="liability_f">业务类型</label><select name="" class="text_add" style=" width:120px">
								<option  value="">请选择</option></select>
							</li>
							<li><label class="liability_f">消息模板名称</label><input name="" type="text"  class="text_add" placeholder=""/></li>
							<li style="width:90px;"><button type="button" class="btn_search"><i class="icon-search"></i>搜索</button></li>
						</ul>
					</div>
					<div class="border clearfix">
						<span class="l_f">
							<a href="javascript:ovid()" onclick="Message_(this,'add')" class="btn btn-warning"><i class="icon-plus"></i>短信模板</a>
							<a href="javascript:ovid()" onclick="Message_(this,'add')" class="btn btn-warning"><i class="icon-plus"></i>邮件模板</a>
						</span>
						
					</div>
				
			<div class="sort_style">
				
				<div class="sort_list">
					<table class="table table-striped table-bordered table-hover" id="sample-table">
						<thead>
							<tr>
								
								<th width="10%">模板代码</th>
								<th width="10%">模板类型</th>
								<th width="10%">消息模板名称</th>
								<th width="10%">使用账号</th>								
								<th width="20%">内容</th>
								<th width="10%">创建日期</th>
								<th width="10%">业务类型</th>								
								<th width="20%">操作</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								
								<td>1001</td>
								<td>短信</td>
								<td>承保短信</td>
								<td>账号1</td>
								<td>xxx</td>
								<td>2017/01/01</td>
								<td>承保</td>																
								<td class="td-manage">	
									<a title="查看" href="javascript:ovid()" onclick="Message_view(this)" class="operating">查看</a>  丨
									<a title="编辑" href="javascript:ovid()" onclick="Message_(this,'edit')" class="operating">编辑</a>  丨 
									<a title="删除" href="javascript:ovid()" onclick="Message_del(this)"  class="operating" >删除</a>  丨 
									<a title="测试" href="javascript:ovid()" onclick="Message_test(this)"  class="operating" >测试</a>
								</td>
							</tr>
							
							<tr>								
								<td>1002</td>
								<td>邮件</td>
								<td>承保邮件</td>
								<td>账号2</td>
								<td>xxx</td>
								<td>2017/01/02</td>
								<td>承保</td>																
								<td class="td-manage">	
									<a title="查看" href="javascript:ovid()" onclick="Message_view(this)" class="operating">查看</a>  丨
									<a title="编辑" href="javascript:ovid()" onclick="Message_(this,'edit')" class="operating">编辑</a>  丨 
									<a title="删除" href="javascript:ovid()" onclick="Message_del(this)"  class="operating" >删除</a>  丨 
									<a title="测试" href="javascript:ovid()" onclick="Message_test(this)"  class="operating" >测试</a>
								</td>
							</tr>
							
							<tr>								
								<td>1003</td>
								<td>短信</td>
								<td>登录验证码短信</td>
								<td>账号3</td>
								<td>xxx</td>
								<td>2017/01/03</td>
								<td>验证码</td>																
								<td class="td-manage">	
									<a title="查看" href="javascript:ovid()" onclick="Message_view(this)" class="operating">查看</a>  丨
									<a title="编辑" href="javascript:ovid()" onclick="Message_(this,'edit')" class="operating">编辑</a>  丨 
									<a title="删除" href="javascript:ovid()" onclick="Message_del(this)"  class="operating" >删除</a>  丨 
									<a title="测试" href="javascript:ovid()" onclick="Message_test(this)"  class="operating" >测试</a>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="formFooter_style" id="formFooterstyle"> 
						<div class="row"> 						
							<div class="col-sm-13">
								<div id="sample-table_length" class="dataTables_length">
									<label>
									&nbsp;&nbsp;每页显示条数：
									<select class="" name="sample-table_length" aria-controls="sample-table"><option  value="1">10</option><option  value="2">20</option><option value="3">30</option></select>
									</label>
								</div>						
							</div>										
							<div class="col-sm-14">
								<div id="sample-table_paginate" class="dataTables_paginate paging_bootstrap">
									<ul class="pagination">
										
										<li class="prev disabled"><a href="#">上一页</a></li>
										<li class="active"><a href="#"></a></li>
										<li class="next disabled"><a href="#">下一页</a></li>
										
										<li class="jump">&nbsp;第1/1页,共3条匹配记录</li>
										<li class="jump">																					
											转至第<input name="" type="text"  class="jump_page" placeholder="" />页
											<button type="button" class="jump_go">GO</button>
																						
										</li>
									</ul>
								</div>
							</div>
						</div>
					
					</div>
						
				</div>
			</div>
		</div>
	</div>
				
	 <!--*************添加/编辑短信模板****************-->
	 <div class="sort_style_add margin" id="Message_style_add" style="display:none">

		<div class="">
		<ul>
			<li><label class="col-sm-2 control-label no-padding-right">模板代码：</label><div class="col-sm-9"><input name="" type="text"  placeholder="" class="col-xs-10 col-sm-5"></div></li>
			<li><label class="col-sm-2 control-label no-padding-right" for="form-field-1">业务类型：</label><div class="col-sm-9"><select name="" class="text_add" style=" width:20%"><option  value="">请选择</option></select></div></li>
			<li><label class="col-sm-2 control-label no-padding-right">消息模板名称：</label><div class="col-sm-9"><input name="" type="text"  placeholder="" class="col-xs-10 col-sm-5"></div></li>
			<li><label class="col-sm-2 control-label no-padding-right" for="form-field-1">使用账号：</label><div class="col-sm-9"><select name="" class="text_add" style=" width:20%"><option  value="">请选择</option></select></div></li>
			<li><label class="col-sm-2 control-label no-padding-right">消息内容：</label>
				<div class="col-sm-9">
					<div class="form-group">					
						<div class="p_select_list">
							<div class="M_left_produt produt_select_style" >
								<textarea name="" class="M_form-control"  placeholder="" ></textarea>
							</div>
							<div  class="M_Switching_btn"> 																														
								<span id="remove"  class="M_Switching">
									<input type="button" class="btn btn-primary" value="<"/>
								</span>													
							</div>						
						<div class="M_right_product produt_select_style">							
							<select multiple="multiple"  class="M_remove_select">
								<option  value="" class="M_option">投保人&lt;appntName&gt;</option>
								<option  value="" class="M_option">被投保人&lt;insuredName&gt;</option>
								<option  value="" class="M_option">险种名称&lt;productName&gt;</option>
								<option  value="" class="M_option">保单号&lt;contNo&gt;</option>
								<option  value="" class="M_option">保险起期&lt;cvaliDate&gt;</option>
								<option  value="" class="M_option">保险止期&lt;cvaliOutDate&gt;</option>
								<option  value="" class="M_option">报案号&lt;reportNo&gt;</option>
								<option  value="" class="M_option">验证码&lt;verificatCode&gt;</option>
							</select>
						</div>
					</div>				
				</div>
			</li>		
			
		</ul>
		</div>
	</div>
	
	 <!--*************查看短信模板****************-->
	 <div class="sort_style_add margin" id="Message_style_view" style="display:none">

		<div class="">
		<ul>
			<li><label class="col-sm-2 control-label no-padding-right">模板代码：</label><div class="col-sm-9"><input name="" type="text"  placeholder="" class="col-xs-10 col-sm-5"></div></li>
			<li><label class="col-sm-2 control-label no-padding-right" for="form-field-1">业务类型：</label><div class="col-sm-9"><select name="" class="text_add" style=" width:20%"><option  value="">请选择</option></select></div></li>
			<li><label class="col-sm-2 control-label no-padding-right">消息模板名称：</label><div class="col-sm-9"><input name="" type="text"  placeholder="" class="col-xs-10 col-sm-5"></div></li>
			<li><label class="col-sm-2 control-label no-padding-right" for="form-field-1">使用账号：</label><div class="col-sm-9"><select name="" class="text_add" style=" width:20%"><option  value="">请选择</option></select></div></li>
			<li><label class="col-sm-2 control-label no-padding-right">消息内容：</label>
				<div class="col-sm-9">					
					<textarea name="" class="col-sm-8" style="min-height:100px;"  placeholder="" ></textarea>
				</div>													
			</li>		
			
		</ul>
		</div>
	</div>
	

	 <!--*************测试短信模板****************-->
	 <div class="sort_style_add margin" id="Message_style_test" style="display:none">

		<div class="">
		<ul>
			<li><label class="col-sm-2 control-label no-padding-right">模板代码：</label><div class="col-sm-9"><input name="" type="text"  placeholder="" class="col-xs-10 col-sm-5"></div></li>
			<li><label class="col-sm-2 control-label no-padding-right" for="form-field-1">业务类型：</label><div class="col-sm-9"><select name="" class="text_add" style=" width:20%"><option  value="">请选择</option></select></div></li>
			<li><label class="col-sm-2 control-label no-padding-right">消息模板名称：</label><div class="col-sm-9"><input name="" type="text"  placeholder="" class="col-xs-10 col-sm-5"></div></li>
			<li><label class="col-sm-2 control-label no-padding-right" for="form-field-1">使用账号：</label><div class="col-sm-9"><select name="" class="text_add" style=" width:20%"><option  value="">请选择</option></select></div></li>
			<li><label class="col-sm-2 control-label no-padding-right">发送地址：</label><div class="col-sm-9"><input name="" type="text"  placeholder="" class="col-xs-10 col-sm-5"></div></li>
			<li><label class="col-sm-2 control-label no-padding-right">消息内容：</label>
				<div class="col-sm-9">					
					<textarea name="" class="M_form-control"  placeholder="" ></textarea>								
				</div>
			</li>					
		</ul>
		</div>
	</div>



	</body>
</html>
<script>
/*添加丨编辑*/
function Message_(obj,type){
	var _this = obj;
	var pageTitle;
	if(type == 'add'){
		pageTitle = '添加模板';
	}else if(type == 'edit'){
		pageTitle = '编辑模板';
	}
	
	layer.open({
        type: 1,
        title: pageTitle,
		maxmin: true, 
		shadeClose: true, //点击遮罩关闭层
        area : ['800px' , ''],
        content:$('#Message_style_add'),
		btn:['提交','取消'],
		yes:function(index,layero){	
		 var num=0;
		 var str="";
     $(".sort_style_add input[type$='text']").each(function(n){
          if(_this.val()=="")
          {
               
			   layer.alert(str+=""+_this.attr("name")+"不能为空！\r\n",{
                title: '提示框',				
				icon:0,								
          }); 
		    num++;
            return false;            
          } 
		 });
		  if(num>0){  return false;}	 	
          else{
			  layer.alert('添加成功！',{
               title: '提示框',				
			icon:1,		
			  });
			   layer.close(index);	
		  }		  		     				
		}
    });
}

/*查看*/
function Message_view(obj){
	var _this = obj;	
	layer.open({
        type: 1,
        title: '查看模板',
		maxmin: true, 
		shadeClose: true, //点击遮罩关闭层
        area : ['800px' , ''],
        content:$('#Message_style_view'),
		btn:['提交','取消'],
		yes:function(index,layero){	
		 var num=0;
		 var str="";
     $(".sort_style_add input[type$='text']").each(function(n){
          if(_this.val()=="")
          {
               
			   layer.alert(str+=""+_this.attr("name")+"不能为空！\r\n",{
                title: '提示框',				
				icon:0,								
          }); 
		    num++;
            return false;            
          } 
		 });
		  if(num>0){  return false;}	 	
          else{
			  layer.alert('添加成功！',{
               title: '提示框',				
			icon:1,		
			  });
			   layer.close(index);	
		  }		  		     				
		}
    });
}

/*测试*/
function Message_test(obj){
	var _this = obj;	
	layer.open({
        type: 1,
        title: '测试模板',
		maxmin: true, 
		shadeClose: true, //点击遮罩关闭层
        area : ['800px' , ''],
        content:$('#Message_style_test'),
		btn:['提交','取消'],
		yes:function(index,layero){	
		 var num=0;
		 var str="";
     $(".sort_style_add input[type$='text']").each(function(n){
          if(_this.val()=="")
          {
               
			   layer.alert(str+=""+_this.attr("name")+"不能为空！\r\n",{
                title: '提示框',				
				icon:0,								
          }); 
		    num++;
            return false;            
          } 
		 });
		  if(num>0){  return false;}	 	
          else{
			  layer.alert('添加成功！',{
               title: '提示框',				
			icon:1,		
			  });
			   layer.close(index);	
		  }		  		     				
		}
    });
}

/*模板-删除*/
function Message_del(obj,id){
	layer.confirm('您确定删除该消息模板？',{icon:0,},function(index){
		$(obj).parents("tr").remove();
		layer.msg('已删除!',{icon:1,time:1000});
	});
}

</script>



